{% extends new and not is_granted('ROLE_ADMIN') ? 'base.html.twig' : 'connected.html.twig' %}

{% block title %}
    {% if not new %}
        {% trans %}User edition{% endtrans %}
    {% else %}
        {% trans %}Registration{% endtrans %}
    {% endif %}
{% endblock %}

{% block main %}
    {{ form_start(form) }}
        <div class="row">
            <div class="col-md-6">{{ form_row(form.firstname) }}</div>
            <div class="col-md-6">{{ form_row(form.lastname) }}</div>
        </div>
        {{ form_row(form.email) }}
        <div class="row">
                <div class="col-md-6">{{ form_row(form.password.first) }}</div>
                <div class="col-md-6">{{ form_row(form.password.second) }}</div>
        </div>
        <div class="row">
            <div class="col-md-6">{{ form_row(form.apiActivated) }}</div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="form-control-label" for="user_api">{% trans %}API key{% endtrans %}</label>
                    <input id="user_api" name="user[api]" class="form-control" type="text" disabled="disabled" value="{% if user.api.apiKey is defined %}{{ user.api.apiKey }}{% endif %}" />
                </div>
            </div>
        </div>
        {% if form.roles is defined %}
            {{ form_row(form.roles) }}
        {% endif %}
        <button type="submit" class="btn btn-primary">{% if new %}{% trans %}Register{% endtrans %}{% else %}{% trans %}Update{% endtrans %}{% endif %}</button>
    {{ form_end(form) }}
{% endblock %}
